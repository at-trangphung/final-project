<% content_for :title, 'Edit Profile' %>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>


<%= form_with model: @user, local: true, class: 'form-horizontal', 
  html: { role: 'form'} do |form| 
  %>
 
  <div>
    <legend >Edit Customer</legend>
    <div class="panel-body">
      <div class="row">
        <div class="col-sm-offset-2 col-sm-8">
          <div class="form-group">
            <label class="col-sm-2 control-label">First name: </label>
            <div class="col-sm-10">
              <%= form.text_field :first_name, class: 'form-control', 
                placeholder: 'First name'  %>
              <%= msg_form_errors @user, :first_name %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Last name: </label>
            <div class="col-sm-10">
              <%= form.text_field :last_name, class: 'form-control', 
                placeholder: 'Last name'  %>
              <%= msg_form_errors @user, :last_name %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Email: </label>
            <div class="col-sm-10">
              <%= form.email_field :email, class: 'form-control', 
                placeholder: 'Email'  %>
              <%= msg_form_errors @user, :email %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Address: </label>
            <div class="col-sm-10">
              <%= form.text_field :address, class: 'form-control', 
                placeholder: 'Address'  %>
              <%= msg_form_errors @user, :address %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Phone: </label>
            <div class="col-sm-10">
              <%= form.telephone_field :phone, class: 'form-control', 
                placeholder: 'Phone'  %>
              <%= msg_form_errors @user, :phone %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Company: </label>
            <div class="col-sm-10">
              <span>
                <%= form.text_field :company, class: 'form-control', 
                  placeholder: 'Company'  %>
              </span>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Address deliver: </label>
            <div class="col-sm-10">
              <span>
                <%= form.text_field :address_deliver, class: 'form-control', placeholder: 'Address deliver'  %>
              </span>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Avatar: </label>
            <div class="col-sm-10">
              <span class="image">
                <%= form.file_field :avatar, accept: 'image/jpeg, image/gif, image/png', required: true %>
              </span>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-offset-4 col-sm-2">
              <%= link_to "Cancel" , "/users/#{@service_user.current_user.id}" ,class: "btn btn-primary"%>
            </div> 
            <div class="col-sm-offset-2 col-sm-2">
              <%= form.submit "Submit", class: 'btn btn-primary' %>
            </div>   
          </div>
        </div>
      </div>  
    </div>
  </div>
<% end %>

<script type="text/javascript">
  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>
